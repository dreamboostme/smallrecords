<div class="container {{ cssClass }}">

    <div class="row">

        <div class="col-xs-12">

            <h1>Categories</h1>

        </div>

        <div class="col-xs-12 col-xs-6">

            <ul class="list-group">
                
                <li class="list-group-item">Records list: <strong>{{__SELF__.property('areaSlug') ? __SELF__.property('areaSlug') : 'Not set'}}</strong></li>
                
                {% if __SELF__.property('areaSlug') %}
                    <li class="list-group-item">Only for records as: <strong>{{__SELF__.property('useMultiCategories') ? 'Secondary categories' : 'Main category'}}</strong></li>
                {% endif %}

                {% if __SELF__.property('categorySlug') %}
                    <li class="list-group-item">Current category slug: <strong>{{__SELF__.property('categorySlug')}}</strong></li>
                {% endif %}

            </ul>

        </div>

        <div class="col-xs-12">

            <hr>
        
            <ul class="nav nav-pills">

                <li role="presentation" class="{{ __SELF__.property('categorySlug') == category.slug ? 'active'}}">

                    <a href="{{__SELF__.getProperties.categoryPage ? __SELF__.property('categoryPage')|page({(__SELF__.paramName('categorySlug')):(category.slug)})}}">
                
                        All ({{__SELF__.items|length}})

                    </a>
                
                </li>

                {% for category in __SELF__.items %}

                    <li role="presentation" class="{{ __SELF__.property('categorySlug') == category.slug ? 'active'}}">

                        <a href="{{__SELF__.getProperties.categoryPage ? __SELF__.property('categoryPage')|page({(__SELF__.paramName('categorySlug')):(category.slug)})}}">
                    
                            {{ category.name }}

                        </a>

                    </li>

                {% endfor %}

            </ul>

            <hr>
        
        </div>

        <div class="col-xs-12">

            <h3>Categories details</h3>

            <table class="table table-bordered table-striped table-hover">

                <tr>
                
                    <th>Preview image</th>
                    <th>Name</th>
                    <th>Parent category</th>
                    <th>Records (main category)</th>
                    <th>Records (secondary categories)</th>
                
                </tr>

                {% for category in __SELF__.items %}

                    <tr>

                        <th width="150">
                            {% if category.preview_image %}
                                <img class="thumbnail" alt="{{ category.name }}" src="{{ category.preview_image.getPath }}" width="100%" />
                            {% elseif record.preview_image_media %}
                                <img class="thumbnail" alt="{{ category.name }}" src="{{ category.preview_image_media|media }}" width="100%" />
                            {% endif %}            
                        </th>

                        <td>
                            {{ category.name }}
                        </td>

                        <td>
                            {{ category.parent.name }}
                        </td>

                        <td>

                            {% if category.records|length %}

                            <ul>

                                {% for record in category.records %}

                                    <li>{{ record.name }} [{{record.area.name}}]</li>

                                {% endfor %}

                            </ul>

                            {% endif %}

                        </td>

                        <td>

                            {% if category.records_multicategories|length %}

                            <ul>

                                {% for record in category.records_multicategories %}

                                    <li>{{ record.name }} [{{record.area.name}}]</li>

                                {% endfor %}

                            </ul>

                            {% endif %}

                        </td>

                    </tr>

                {% endfor %}

            </table>

        </div>

    </div>

</div>